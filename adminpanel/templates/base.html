{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ondemand | Dashboard</title>
    <!-- Bootstrap -->
    <link href="{% static 'img/fav.png' %}" rel="icon" type="icon/image">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
    <link href="{% static 'css/dataTables.bootstrap4.min.css' %}" rel="stylesheet">
    <!-- <link href="css/reset.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/css/select2.min.css'>

    <script src="{% static 'js/jquery.js' %}"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/js/select2.min.js'></script>
    <script>
    var protocol = window.location.protocol
    var hostname = window.location.hostname
    var port = window.location.port
    var url = protocol + "//" + hostname + ":" + port + "/adminpanel" + "/notification-count" + "/"
    fetch(url)
      .then(function (response) {
        return response.json();
      })
      .then(function (myJson) {
        document.querySelector("#count").innerHTML = myJson;
      })
      .catch(function (error) {
        console.log("Error: " + error);
      });










    </script>
</head>

<body>
<header class="headerAll boxs">
    <div class="headerLogo"><a href="#0"><img src="{% static 'img/logo.png' %}" alt="logo" class="img-fluid"></a>
        <!-- <span class="humburger"><i class="fa fa-bars"></i></span> -->
    </div>
    <div class="headerRight">
        <ul>
            <li><a href="{% url 'adminpanel:notification-management' %}" class="bell" style="position:relative;">
                <span class="bellNoti" id="count"></span>
                <i class="fa fa-bell"></i></a>
            </li>
            <li class="postrel">
                <a href="#0" class="profile"><img src="{% static 'img/profile.jpg' %}" alt="profle"
                                                  class="img-fluid"><span>{{user}}</span></a>
                <div class="profileIn">
                    <ul>
<!--                        <li>-->
<!--                            <a href="{% url 'adminpanel:admin-profile' %}">-->
<!--                                <span><i class="fas fa-user"></i></span>-->
<!--                                Admin Profile-->
<!--                            </a>-->
<!--                        </li>-->
                        <li>
                            <a href="{% url 'change_password' %}">
                                <span><i class="fa fa-cog"></i></span>
                                Change Password
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'logout' %}" data-toggle="modal" data-target="#logout">
                                <span><i class="fas fa-sign-out-alt"></i></span>
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
</header>
<section class="sideNav boxs scrollbar" id="style-3">
    {% if user.is_authenticated and user.is_superuser %}
    <ul class="force-overflow">
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:dashboard' %} active {% endif %}">
            <a href="{% url 'adminpanel:dashboard' %}"><span class="icon"><i
                    class="fa fa-tachometer-alt"></i></span><span
                    class="iconContent">Statistics</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:user-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:user-management' %}"><span class="icon"><i class="fa fa-user"></i></span><span
                    class="iconContent">User
                        Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:service-provider-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:service-provider-management' %}"><span class="icon"><i
                    class="fa fa-paper-plane"></i></span><span class="iconContent">Service
                        Provider Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:sub-admin-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:sub-admin-management'  %}"><span class="icon"><i
                    class="fa fa-user-cog"></i></span><span class="iconContent">
                        Sub-admin Management
                    </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:category-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:category-management' %}"><span class="icon"><i
                    class="fa fa-cogs"></i></span><span
                    class="iconContent">Category Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:services-list' %}active{% endif %}">
            <a href="{% url 'adminpanel:services-list' %}"><span class="icon"><i
                    class="fa fa-wrench"></i></span><span
                    class="iconContent">Service Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:sub-category-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:sub-category-management' %}"><span class="icon"><i
                    class="fa fa-cog"></i></span><span
                    class="iconContent">SubCategory Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:top-services-list' %}active{% endif %}">
            <a href="{% url 'adminpanel:top-services-list' %}"><span class="icon"><i
                    class="fa fa-list"></i></span><span
                    class="iconContent">Top Services Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:order-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:order-management' %}"><span class="icon"><i
                    class="fa fa-dollar-sign"></i></span><span
                    class="iconContent">Order Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:rejected-order-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:rejected-order-management' %}"><span class="icon"><i
                    class="fa fa-ban"></i></span><span
                    class="iconContent">Rejected Orders</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:user-provider-registration' %}active{% endif %}">
            <a href="{% url 'adminpanel:user-provider-registration' %}"><span class="icon"><i
                    class="fa fa-check-square"></i></span><span
                    class="iconContent">User Provider Registration</span></a></li>
        <!--        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:verification-management' %}active{% endif %}">-->
        <!--            <a href="{% url 'adminpanel:verification-management' %}"><span class="icon"><i class="fa fa-user-check"></i></span><span-->
        <!--                    class="iconContent">Verification Management-->
        <!--                            </span></a></li>-->
        <!--        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:worker-management' %}active{% endif %}">-->
        <!--            <a href="{% url 'adminpanel:worker-management' %}"><span class="icon"><i-->
        <!--                    class="fa fa-users"></i></span><span-->
        <!--                    class="iconContent">Worker Management</span></a></li>-->
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:offer-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:offer-management' %}"><span class="icon"><i
                    class="fa fa-percent"></i></span><span
                    class="iconContent">Offers & Discounts Management
                            </span></a></li>
        <!--        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:finance-management' %}active{% endif %}">-->
        <!--            <a href="{% url 'adminpanel:finance-management' %}"><span class="icon"><i-->
        <!--                    class="fa fa-percent"></i></span><span-->
        <!--                    class="iconContent">Finance Management-->
        <!--                            </span></a></li>-->
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:static-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:static-management' %}"><span class="icon"><i
                    class="fa fa-pen-square"></i></span><span
                    class="iconContent">Static Content Management
                            </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:inquiry' %}active{% endif %}">
            <a href="{% url 'adminpanel:inquiry' %}"><span class="icon"><i
                    class="fa fa-question-circle"></i></span><span
                    class="iconContent">Inquiries
                            </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:notification-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:notification-management' %}"><span class="icon"><i
                    class="fa fa-bell"></i></span><span
                    class="iconContent">Notification Management
                            </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'logout' %}active{% endif %}">
            <a href="{% url 'logout' %}" data-toggle="modal" data-target="#logout"><span class="icon"><i
                    class="fa fa-sign-out-alt"></i></span><span
                    class="iconContent">Logout
                            </span></a></li>
    </ul>
    {% else %}
    <ul class="force-overflow">
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:dashboard' %} active {% endif %}">
            <a href="{% url 'adminpanel:dashboard' %}"><span class="icon"><i
                    class="fa fa-tachometer-alt"></i></span><span
                    class="iconContent">Statistics</span></a></li>
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_user %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:user-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:user-management' %}"><span class="icon"><i class="fa fa-user"></i></span><span
                    class="iconContent">User
                        Management</span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_provider %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:service-provider-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:service-provider-management' %}"><span class="icon"><i
                    class="fa fa-paper-plane"></i></span><span class="iconContent">Service
                        Provider Management</span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_subadmin %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:sub-admin-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:sub-admin-management'  %}"><span class="icon"><i
                    class="fa fa-user-cog"></i></span><span class="iconContent">
                        Sub-admin Management
                    </span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_category %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:category-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:category-management' %}"><span class="icon"><i
                    class="fa fa-cogs"></i></span><span
                    class="iconContent">Category Management</span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_services %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:services-list' %}active{% endif %}">
            <a href="{% url 'adminpanel:services-list' %}"><span class="icon"><i
                    class="fa fa-wrench"></i></span><span
                    class="iconContent">Service Management</span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_sub_category %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:sub-category-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:sub-category-management' %}"><span class="icon"><i
                    class="fa fa-cog"></i></span><span
                    class="iconContent">SubCategory Management</span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_top_services %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:top-services-list' %}active{% endif %}">
            <a href="{% url 'adminpanel:top-services-list' %}"><span class="icon"><i
                    class="fa fa-list"></i></span><span
                    class="iconContent">Top Services Management</span></a></li>
        {% endif %}
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_order %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:order-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:order-management' %}"><span class="icon"><i
                    class="fa fa-dollar-sign"></i></span><span
                    class="iconContent">Order Management</span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:rejected-order-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:rejected-order-management' %}"><span class="icon"><i
                    class="fa fa-ban"></i></span><span
                    class="iconContent">Rejected Orders</span></a></li>
        {% endif %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:user-provider-registration' %}active{% endif %}">
            <a href="{% url 'adminpanel:user-provider-registration' %}"><span class="icon"><i
                    class="fa fa-check-square"></i></span><span
                    class="iconContent">User Provider Registration</span></a></li>
        <!--        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:verification-management' %}active{% endif %}">-->
        <!--            <a href="{% url 'adminpanel:verification-management' %}"><span class="icon"><i class="fa fa-user-check"></i></span><span-->
        <!--                    class="iconContent">Verification Management-->
        <!--                            </span></a></li>-->
        <!--        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:worker-management' %}active{% endif %}">-->
        <!--            <a href="{% url 'adminpanel:worker-management' %}"><span class="icon"><i-->
        <!--                    class="fa fa-users"></i></span><span-->
        <!--                    class="iconContent">Worker Management</span></a></li>-->
        {% if user.is_authenticated and user.is_sub_admin and user.can_manage_coupons %}
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:offer-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:offer-management' %}"><span class="icon"><i
                    class="fa fa-percent"></i></span><span
                    class="iconContent">Offers & Discounts Management
                            </span></a></li>
        {% endif %}
        <!--        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:finance-management' %}active{% endif %}">-->
        <!--            <a href="{% url 'adminpanel:finance-management' %}"><span class="icon"><i-->
        <!--                    class="fa fa-percent"></i></span><span-->
        <!--                    class="iconContent">Finance Management-->
        <!--                            </span></a></li>-->
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:static-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:static-management' %}"><span class="icon"><i
                    class="fa fa-pen-square"></i></span><span
                    class="iconContent">Static Content Management
                            </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:inquiry' %}active{% endif %}">
            <a href="{% url 'adminpanel:inquiry' %}"><span class="icon"><i
                    class="fa fa-question-circle"></i></span><span
                    class="iconContent">Inquiries
                            </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'adminpanel:notification-management' %}active{% endif %}">
            <a href="{% url 'adminpanel:notification-management' %}"><span class="icon"><i
                    class="fa fa-bell"></i></span><span
                    class="iconContent">Notification Management
                            </span></a></li>
        <li class="nav-item nav-link {% if request.resolver_match.view_name  == 'logout' %}active{% endif %}">
            <a href="{% url 'logout' %}" data-toggle="modal" data-target="#logout"><span class="icon"><i
                    class="fa fa-sign-out-alt"></i></span><span
                    class="iconContent">Logout
                            </span></a></li>
    </ul>
    {% endif %}
</section>
{% block body %}
{% endblock body %}
<div class="modal fade" id="logout" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">

            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal">&times;</button>

                <p class="head">Are you sure you want to Logout ?</p>
                <ul class="allBtns">
                    <li><a href="{% url 'logout' %}" class="btns">Yes</a></li>
                    <li><a href="" data-dismiss="modal" class="btns">No</a></li>
                </ul>
            </div>

        </div>

    </div>
</div>
<script src="{% static 'js/jquery.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/jquery.dataTables.min.js' %}"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js'></script>
<script src="{% static 'js/custom.js' %}"></script>
<script>
    var protocol = window.location.protocol
    var hostname = window.location.hostname
    var port = window.location.port
    var url = protocol + "//" + hostname + ":" + port + "/adminpanel" + "/notification-count" + "/"
    fetch(url)
      .then(function (response) {
        return response.json();
      })
      .then(function (myJson) {
        document.querySelector("#count").innerHTML = myJson;
      })
      .catch(function (error) {
        console.log("Error: " + error);
      });













</script>
</body>

</html>